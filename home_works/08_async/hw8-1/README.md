# Думаревская Татьяна

## Домашняя работа 8-1

## Запуск проекта

Для запуска проекта используйте следующие команды:

- `docker-compose up` - Создает и запускает все сервисы.
- `docker-compose down` - Останавливает и удаляет все сервисы.

## Описание проекта
* PriceLoader (price_loader.rb):

Описание: Этот файл содержит класс PriceLoader, который загружает ценовые данные из CSV-файла.

Работа: Класс PriceLoader загружает данные из CSV-файла, создает экземпляры объектов Price и предоставляет методы для доступа к этим данным.

* VMLoader (vm_loader.rb):

Описание: Файл VMLoader содержит класс, который загружает данные о виртуальных машинах из CSV-файла.

Работа: Этот класс загружает данные о виртуальных машинах из CSV-файла и создает объекты VM, предоставляя методы для доступа к этим данным.

* VolumeLoader (volume_loader.rb):

Описание: VolumeLoader является классом, который загружает данные о дополнительных объемах для виртуальных машин из CSV-файла.

Работа: Он загружает данные о дополнительных объемах из CSV-файла и добавляет их к соответствующим виртуальным машинам.

* ReportCreater (report_creator.rb):

Описание: Этот файл содержит класс ReportCreater, который создает отчеты на основе данных о виртуальных машинах и их объемах.

Работа: Класс ReportCreater содержит методы для вычисления цены виртуальных машин, работы с дополнительными объемами и сортировки данных для создания различных типов отчетов.

* ReportPresenter (report_presenter.rb):
Описание: Файл ReportPresenter содержит модуль, который форматирует и выводит отчеты.

Работа: Этот модуль предоставляет методы для вывода отчетов в определенном формате, принимая в качестве входных данных массивы отчетов и их параметры.

* ReportCreateJob (report_create_job.rb):
Описание: Класс ReportCreateJob представляет задачу Sidekiq для создания отчетов на основе типа отчета.

Работа: Этот класс получает тип отчета и вызывает соответствующие методы из ReportCreater, а затем форматирует и сохраняет отчет с помощью ReportPresenter.

* ReportsApi (reports_api.rb):

Описание: Файл ReportsApi содержит описание и реализацию API на базе Grape API с использованием Swagger.

Работа: В нем определены маршруты и методы для создания, получения и просмотра отчетов, а также их описание для Swagger.

### API на базе Grape API с использованием Swagger
Было разработано API на базе Grape API с использованием Swagger для облегчения тестирования и взаимодействия с приложением. API предоставляет следующие методы:

POST /reports: Создает отчет на основе параметров, переданных в теле запроса.
GET /reports: Получает список всех доступных отчетов.
GET /reports/:id: Получает отчет по его идентификатору.

Для работы с Swagger необходимо перейти к http://0.0.0.0:3000/swagger

## Пример вывода 

### Отчет по дополнительному объему

**ID отчета:** 2  
**Имя отчета:** sss  
**Тип отчета:** additional_volume_capacity  

---

#### Тело отчета:

**Название:** Report additional_volume_capacity for 5

| ID | Дополнительный HDD объем |
|----|--------------------------|
| 62 | 4300                     |
| 19 | 3050                     |
| 98 | 2750                     |
| 10 | 2700                     |
| 76 | 2000                     |
| 27 | 2000                     |
| 69 | 1950                     |
| 7  | 1950                     |
| 18 | 1900                     |
| 58 | 1850                     |
